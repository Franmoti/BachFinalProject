#!/bin/sh

#-------------------------------------------------------------#
#	CLEAN SPARK & FLINK LOGS
#-------------------------------------------------------------#

echo "----------------------------------[LOGS] Removing--------------------------------"

rm $SPARK_HOME/logs/* && sudo rm -R $SPARK_HOME/work/*
sudo rm -R /home/fran/nfs/nfs/checkpoints/spark/*
echo "Spark data cleaned"
rm $FLINK_HOME/log/*
sudo rm -R /home/fran/nfs/nfs/checkpoints/flink/*
echo "Flink data cleaned"

echo "----------------------------------[LOGS] Done------------------------------------\n"


#-------------------------------------------------------------#
#	CLEAN OS CACHE
#-------------------------------------------------------------#

echo "----------------------------------[OS CACHE] Removing----------------------------"

free -h && sync && sudo sh -c 'echo 3 >/proc/sys/vm/drop_caches'

echo "----------------------------------[OS CACHE] Done--------------------------------\n"
free -h && echo ""

#-------------------------------------------------------------#
#	CLEAN SWAP
#-------------------------------------------------------------#

#echo "----------------------------------[SWAP] Removing--------------------------------"

#free -h && sudo swapoff -a && sudo swapon -a

#echo "----------------------------------[SWAP] Done------------------------------------\n"
#free -h

#-------------------------------------------------------------#
#	CLEAN X
#-------------------------------------------------------------#
